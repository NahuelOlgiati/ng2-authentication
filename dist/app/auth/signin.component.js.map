{"version":3,"file":"signin.component.js","sourceRoot":"","sources":["../../home/tallion.com.ar/nolgiati/Desktop/ng2-authentication/tmp/broccoli_type_script_compiler-input_base_path-TUieP6t6.tmp/0/src/app/auth/signin.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAkC,eAAe,CAAC,CAAA;AAClD,uBAAuB,iBAAiB,CAAC,CAAA;AACzC,sBAA6E,gBAAgB,CAAC,CAAA;AAE9F,6BAA4B,gBAAgB,CAAC,CAAA;AAkB7C;IAKI,yBAAoB,EAAe,EAAU,MAAc,EAAU,WAAwB;QAAzE,OAAE,GAAF,EAAE,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,gBAAW,GAAX,WAAW,CAAa;QAH7F,UAAK,GAAG,KAAK,CAAC;QACd,iBAAY,GAAG,EAAE,CAAC;IAE+E,CAAC;IAElG,kCAAQ,GAAR;QAAA,iBAYC;QAXG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;aACzC,SAAS,CACV,UAAA,GAAG;YACC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;gBACd,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACtC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAChC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC;YACzB,CAAC;QACL,CAAC,CACA,CAAA;IACT,CAAC;IAED,kCAAQ,GAAR;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,KAAK,EAAE,CAAC,EAAE,EAAE,kBAAU,CAAC,QAAQ,CAAC;YAChC,QAAQ,EAAE,CAAC,EAAE,EAAE,kBAAU,CAAC,QAAQ,CAAC;SACtC,CAAC,CAAC;IACP,CAAC;IA1CL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,yrBAaT;SACJ,CAAC;;uBAAA;IA4BF,sBAAC;AAAD,CAAC,AA3BD,IA2BC;AA3BY,uBAAe,kBA2B3B,CAAA","sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators, REACTIVE_FORM_DIRECTIVES } from \"@angular/forms\";\n\nimport { AuthService } from \"./auth.service\";\n\n@Component({\n    template: `\n        <h3>Please sign up to use all features</h3>\n        <form [formGroup]=\"myForm\" (ngSubmit)=\"onSignin()\">\n            <div class=\"form-group\">\n                <label for=\"email\">E-Mail</label>\n                <input formControlName=\"email\" type=\"email\" id=\"email\" class=\"form-control\">\n            </div>\n            <div class=\"input-group\">\n                <label for=\"password\">Password</label>\n                <input formControlName=\"password\" type=\"password\" id=\"password\" class=\"form-control\">\n            </div>\n            <button type=\"submit\" [disabled]=\"!myForm.valid\" class=\"btn btn-primary\">Sign In</button>\n        </form>\n    `\n})\nexport class SigninComponent implements OnInit {\n    myForm: FormGroup;\n    error = false;\n    errorMessage = '';\n\n    constructor(private fb: FormBuilder, private router: Router, private authService: AuthService) { }\n\n    onSignin() {\n        this.authService.signinUser(this.myForm.value)\n            .subscribe(\n            res => {\n                if (res.success) {\n                    this.authService.saveToken(res.token);\n                    this.router.navigate(['/']);\n                } else {\n                    this.error = res.msg;\n                }\n            }\n            )\n    }\n\n    ngOnInit(): any {\n        this.myForm = this.fb.group({\n            email: ['', Validators.required],\n            password: ['', Validators.required],\n        });\n    }\n}\n"]}